<% content_for :additional_scripts do %>
  <%= javascript_pack_tag "cocoon", 'data-turbolinks-track': 'reload'  %>
<% end %>
<%= simple_form_for(@hardware) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.input :name %>
    <%= f.input :hardware_type, collection: Hardware::TYPES, label_method: :second, value_method: :first %>
    <%= f.input :state, collection: Hardware::STATES, label_method: :second, value_method: :first %>
    <%= f.association :bag, collection: Bag.order(:name) %>
    <%= f.input :comment %>
    <h3>Liste des personnes en possession du mat√©riel</h3>
    <div class="hardware_owners">
      <%= f.simple_fields_for :hardware_owners do |f2| %>
        <%= render "hardware_owner_fields", f: f2 %>
      <% end %>
    </div>
    <%= link_to_add_association(
      button_tag(raw("#{fa_icon("plus")} Ajouter une possession"), type: "button", class: "btn btn-success mb-3"),
      f,
      :hardware_owners,
      data: {
        association_insertion_node: '.hardware_owners',
        association_insertion_method: 'append'
      },
    ) %>
  </div>

  <div class="form-actions">
    <%= f.button :submit %>
  </div>
<% end %>
